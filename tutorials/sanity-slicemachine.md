## Sanity & SliceMachine

Вначале мне `prismic/slicemachine` совсем не понравилась. Через неделю работы с ней нашлись некоторые преимущества.  
Дальше пишу исключительно со своей точки зрения, которая не обязательно должна быть правильной и разделяться другими разработчиками.

### На мой взгляд, недостатки `prismic/slicemachine` по сравнению с `sanity`
- у `Sanity` три бесплатных пользователя, у `Slice Machine` только один. Правда, у `Slice Machine` огромное бесплатное хранилище – 100 Гб, у `Sanity` ограничение на объём контента 5ГБ, и `Bandwidth` 10ГБ
- в `Slice Machine` нельзя записать данные при помощи POST-запроса, в `Sanity` можно
- по отзывам разработчиков, `Slice Machine` подходит только для самых простых проектов. Попытка добавить более сложную логику в приложение часто сопровождается багами и ошибками
- за два года существования `Slice Machine` не создала вокруг себя комьюнити, посты и видео о ней снимают почти исключительно её создатели. Правда в этом есть и преимущество, знакомиться с ней приходится по официальной документации, других материалов практически нет. И на вопросы разработчиков отвечают почти исключительно на официальном форуме, на stackoverflow о ней не спрашивают и не отвечают
- процесс знакомства со `Slice Machine` для меня оказался намного более продолжительным и запутанным по сравнению с `Sanity`. Если на знакомство с `Sanity` ушёл один день, то для `Slice Machine` прошло полных три дня до появления хоть каких-то результатов
- если `Sanity` возвращает данные в виде API, то `Slice Machine`  предполагает встраивание фрагментов кода, содержащих добавленные данные. На мой взгляд, такой подход является ошибкой – бекэнд должен возвращать данные, а не код приложения.
- добавление данных в `prismic/slicemachine` напомнило игру Scratch, в которой для написания кода нужно перетаскивать блоки. На мой взгляд, удобнее быстрее и проще писать схемы в Sanity, чем добавлять их кликами по кнопкам `Slice Machine`
- с предоставляемыми данными тоже не всё хорошо. Для фрагментов текста не работает свойство `className={styles.myPerfectClass}` и разработчики рекомендуют каждый получаемый от CMS фрагмент текста оборачивать в блок-обёртку, и уже ему указывать класс для стилизации. С картинками разработчики `prismic/slicemachine` пока не справились, реализаци элемента `Image` фреймворка Next.js только в планах, сейчас картинки в Next.js приложение добавляются как элемент `img`. Видео разработчики рекомендуют добавлять с ю туб и вимео, так как их собственное хранилище видео его не сжимает, на cdn не загружает. 
- популярность `Sanity` среди разработчиков намного выше по сравнению со `Slice Machine`. Можно посмотреть [результаты голосования](https://stackshare.io/stackups/prismic-io-vs-sanity_2 ), за `Sanity` голосов почти в три раза больше. У [Sanity](https://github.com/sanity-io/sanity) 3.5 тысячи звёзд на гитхабе, у [Slice Machine](https://github.com/prismicio/slice-machine) 211.
- мне не очень понравился сам процесс работы со `Slice Machine` - с самого начала её установки основное занятие разработчика копировать-вставить - кусочки кода, названия элементов и т.д. При этом скопировать отдельный блок полностью нельзя, если нужно создать шесть почти одинаковых элементов, каждый нужно создать отдельно. Скопировать репозиторий `prismic/slicemachine` тоже нельзя (такая возможность есть только в тарифном плане Medium)

### На мой взгляд, преимущества `prismic/slicemachine` по сравнению с `sanity`
- 100 Гб бесплатного хранилища данных `Slice Machine` это в 10 раз больше, чем бесплатный объём данных `Sanity`. Правда в `Slice Machine` только один бесплатный пользователь, у `Sanity` три
- мне кажется, `Custom type` `prismic/slicemachine` удобнее и понятнее для пользователей, чем схемы `Sanity`, больше соответствуют их ожиданиям. В `Sanity` с несколькими схемами легко запутаться, в `Slice Machine` каждому `Custom type` отвечает отдельная страница, данные располагаются в том порядке, в котором они отображаются на странице, легко найти нужные данные, легко их отредактировать
- на сайте https://pagespeed.web.dev/ три страницы сайта https://prismic-sm-demo.netlify.app/ (домашняя, блог, пост) созданного с CMS `Slice Machine` показали результаты 96, 94, 93. Аналогичные страницы точно такого же сайта https://next-sanity-demo.netlify.app/, созданного с использованием CMS `Sanity` показали результаты 87, 77, 87. 
- разработчику при работе со `Slice Machine` необходимо заранее продумать структуру приложения, определить в нём повторяющиеся и не повторяющиеся элементы, дать им подходящие названия. Это помогает в дальнейшей работе над приложением, повышает консистентность кода
- получение данных от `Slice Machine` проще, по сравнению с `Sanity` - каждая страница в `Slice Machine` получает ровно тот набор данных, который ей нужен  
